name: Artifact Generation
on:
  push:
    branches: [ main ]

jobs:
  Artifact_Generation:
    timeout-minutes: 3
    runs-on: ubuntu-latest
    steps:
      # Checkout the repository
      - uses: actions/checkout@v5

      # Generate timestamp version
      - name: Generate timestamp version
        id: timestamp
        run: |
          # Format: yyMMddHHmmss
          TIMESTAMP=$(date +'%y%m%d%H%M%S')
          echo "timestamp=$TIMESTAMP" >> $GITHUB_OUTPUT
          echo "Generated timestamp: $TIMESTAMP"

      # Create GitHub release
      - name: Create GitHub Release
        uses: actions/create-release@v1
        with:
          tag_name: v.${{ steps.timestamp.outputs.timestamp }}
          release_name: Release v.${{ steps.timestamp.outputs.timestamp }}
          draft: false
          prerelease: false
        env:
          GITHUB_TOKEN: ${{ secrets.GH_PAT }}
